{% extends 'flatpages/default.html' %}

{% block title %}
chat-list
{% endblock title %}

{% load static %}

{% block content %}
{% if request.user.is_authenticated %}
    <div class="container mt-3 p-5">
      <h2>
        Список чатов ( пользователь:
        {{ request.user }}
        {% if user.profile.avatar %}
        <img src="{{ user.profile.avatar.url }}" alt="Avatar" class="logo-image"
            style="max-height: 40px; border-radius: 15px;">
        {% endif %}
        )
      </h2>
      <div class="row">
        <div class="col-12 col-md-8">
          <div class="mb-2">
            <label for="roomInput">Введите номер комнаты, к которой нужно подключиться:</label>
            <input
              type="text"
              class="form-control"
              id="roomInput"
              placeholder="Введите название комнаты"
            />
            <small id="roomInputHelp" class="form-text text-muted"
              >Если необходимой комнаты ещё нет, то она будет создана.</small
            >
          </div>
          <button type="button" id="roomConnect" class="btn btn-success">
            Подключиться
          </button>
        </div>
        <div class="col-12 col-md-4">
          <label for="roomSelect">Открытые чаты:</label>
          <select multiple class="form-control" id="roomSelect">
          </select>
        </div>
      </div>
    </div>
    <script src="{% static 'js/index.js' %}"></script>
{% else %}
<h2>Необходимо авторизоваться!</h2>
{% endif %}
{% endblock content %}
